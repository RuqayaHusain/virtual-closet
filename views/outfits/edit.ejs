<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Edit <%= selectedOutfit.name %>!</title>
</head>
<body>

  <%- include('../partials/_navbar.ejs') %>

  <h2>Edit <%= selectedOutfit.name %></h2>

    <form action="/outfits/<%= selectedOutfit._id %>?_method=PUT" method="POST">

    <div>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" value="<%= selectedOutfit.name %>" required>
    </div>
    
    <h3>Select Clothing Items:</h3>
    <% allClosetItems.forEach(item => { %>
      <div>
        <input type="checkbox" 
        name="closetItems" 
        value="<%= item._id %>" 
        id="item_<%= item._id %>" 
        hidden
        <%= selectedOutfit.closetItems.some(closetItem => closetItem._id.toString() === item._id.toString()) ? "checked" : "" %>>
        
        <label for="item_<%= item._id %>" class="item-label">
          <% if (item.imageURL) { %>
            <img src="<%= item.imageURL %>" alt="<%= item.description %>" width="80">
          <% } %>
          <div><%= item.name %></div>
        </label>
      </div>
    <% }) %>
    
    <br>
    <button type="submit">Edit <%= selectedOutfit.name %></button>
  </form>

</body>
</html>
